$(function(){zCarousel.init($("#container"));var o=$("#container"),t=o.find(".function-container").find(".list-item"),i=o.find(".tooltip"),n=i.find(".tooltip-content"),c=i.find(".icon"),e=o.find(".login-container").find(".login-operations").find(".btn-login"),a={API:"服务端提供API,APP端或者网页前端便可方便调用数据,用ShowDoc可以非常方便快速地编写出美观的API文档.",dictionary:"一份好的数据字典可以很方便地向别人说明你的数据库结构，如各个字段的释义等.",doc:"你完全可以使用showdoc来编写一些工具的说明书,也可以编写一些技术规范说明文档以供团队查阅.",sharing:"项目导出成word文件，以便离线浏览.",competence:"提供对自己项目的权限管理,有权限者才有权限修改.",project:"公开项目可供任何登录与非登录的用户访问,而私密项目则需要输入密码验证访问,密码由项目创建者设置.",member:"你可以很方便地为ShowDoc的项目添加、删除项目成员,项目成员可以对项目进行编辑,但不可转让或删除项目（只有项目创建者才有权限）.",edit:"ShowDoc采用markdown编辑器,无论是编辑还是阅读体验都极佳很棒.",template:"在ShowDoc的编辑页面,点击编辑器上方的按钮可方便地插入API接口模板和数据字典模板,插入模板后,剩下的就是改动数据了,省去了很多编辑的力气.",history:"ShowDoc为页面提供历史版本功能,你可以方便地把页面恢复到之前的版本."},r=!0;t.hover(function(){if(r){r=!1;var o=$(this).offset(),t=o.left,e=o.top,s=$(this).height(),l=$(this).outerWidth(),h=t+l,f=e+s/2,d=$(window).width()/2,w=$(this).find(".item-content").data("item");w&&""!==w&&n.text(a[w]),d>t?i.css({left:h,opacity:0}).show(200,function(){var o=$(this).height()/2;c.addClass("left-triangle").removeClass("right-triangle"),f-=o,$(this).css({top:f,opacity:1}),r=!0}):i.css({opacity:0}).show(200,function(){var o=$(this).height()/2,i=$(this).outerWidth();c.addClass("right-triangle").removeClass("left-triangle"),t-=i,f-=o,$(this).css({left:t,top:f,opacity:1}),r=!0})}},function(){n.text(""),i.hide()}),e.on("click",function(){var o=$(".login-form-container"),t=o.find(".login-form-pos"),i=t.find(".form-submit"),n=t.find(".login-form"),c=n.find("#login-username"),e=n.find("#login-password"),a=n.find("#login-checkImg"),r=n.find("#show-checkImg"),s=t.find(".login-error"),l=0,h=0,f=0,d=0,w=0,g=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getCaptchar.action?temp="+(new Date).getTime().toString(36),p=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getVcode.action",u=$("<img />");i.css("cursor","not-allowed"),o.css("display","block").on("click",function(o){this===o.target&&$(this).hide()}),u.on("load",function(){r.attr("src",g)}),u.attr("src",g),r.on("click",function(){g=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getCaptchar.action?temp="+(new Date).getTime().toString(36),u.on("load",function(){r.attr("src",g)}),u.attr("src",g)}),l=t.offset(),h=t.width(),f=t.height(),d=h+l.left,w=f+l.top,t.css({left:"50%",top:-w,marginLeft:-(h/2)}).animate({top:"50%",marginTop:-(f/2),opacity:1},200),o.find(".btn-close").on("click",function(){o.trigger("click")}),a.on("blur",function(){var o=a.val();$.ajax({url:p,type:"GET",dataType:"text",async:!1,success:function(t){var i=t.trim();console.log(t),o===i?console.log("yes"):a.focus()}})}),i.on("click",function(){s.hide();var o=n.attr("action"),t=c.val(),i=e.val(),a=o+"?username="+t+"&password="+i;return $.ajax({url:a,type:"post",dataType:"text",success:function(o){console.log(o);var t=o.trim(),i=t.split(",");if("success"===i[0]){var n=window.location.protocol+"//"+window.location.host+"/ShowDoc/"+i[1];window.location.href=n}else if("fail"===i[0]||"illegal"===i[0])s.show();else{var c=o.replace(/\s/,""),e=c.indexOf('<h3 class="error-info">')+'<h3 class="error-info">'.length,a=c.lastIndexOf("</h3>"),r=c.substring(e,a),l=window.location.protocol+"//"+window.location.host+"/ShowDoc/",h=l+"exception/operateVoucherHandle.action?message="+r;window.location.href=h}},error:function(o){console.log(o),console.log("error")}}),!1})})});