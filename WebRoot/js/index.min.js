$(function(){zCarousel.init($("#container"));var o=$("#container"),i=o.find(".function-container").find(".list-item"),t=o.find(".tooltip"),n=t.find(".tooltip-content"),e=t.find(".icon"),c=o.find(".login-container").find(".login-operations").find(".btn-login"),s={API:"服务端提供API,APP端或者网页前端便可方便调用数据,用ShowDoc可以非常方便快速地编写出美观的API文档.",dictionary:"一份好的数据字典可以很方便地向别人说明你的数据库结构，如各个字段的释义等.",doc:"你完全可以使用showdoc来编写一些工具的说明书,也可以编写一些技术规范说明文档以供团队查阅.",sharing:"项目导出成word文件，以便离线浏览.",competence:"提供对自己项目的权限管理,有权限者才有权限修改.",project:"公开项目可供任何登录与非登录的用户访问,而私密项目则需要输入密码验证访问,密码由项目创建者设置.",member:"你可以很方便地为ShowDoc的项目添加、删除项目成员,项目成员可以对项目进行编辑,但不可转让或删除项目（只有项目创建者才有权限）.",edit:"ShowDoc采用markdown编辑器,无论是编辑还是阅读体验都极佳很棒.",template:"在ShowDoc的编辑页面,点击编辑器上方的按钮可方便地插入API接口模板和数据字典模板,插入模板后,剩下的就是改动数据了,省去了很多编辑的力气.",history:"ShowDoc为页面提供历史版本功能,你可以方便地把页面恢复到之前的版本."},r=!0;i.hover(function(){if(r){r=!1;var o=$(this).offset(),i=o.left,c=o.top,a=$(this).height(),l=$(this).outerWidth(),f=i+l,h=c+a/2,d=$(window).width()/2,g=$(this).find(".item-content").data("item");g&&""!==g&&n.text(s[g]),d>i?t.css({left:f,opacity:0}).show(200,function(){var o=$(this).height()/2;e.addClass("left-triangle").removeClass("right-triangle"),h-=o,$(this).css({top:h,opacity:1}),r=!0}):t.css({opacity:0}).show(200,function(){var o=$(this).height()/2,t=$(this).outerWidth();e.addClass("right-triangle").removeClass("left-triangle"),i-=t,h-=o,$(this).css({left:i,top:h,opacity:1}),r=!0})}},function(){n.text(""),t.hide()}),c.on("click",function(){var o=$(".login-form-container"),i=o.find(".login-form-pos"),t=i.find(".form-submit"),n=i.find(".login-form"),e=n.find("#login-username"),c=n.find("#login-password"),s=i.find(".login-error"),r=0,a=0,l=0,f=0,h=0;o.css("display","block").on("click",function(o){this===o.target&&$(this).hide()}),r=i.offset(),a=i.width(),l=i.height(),f=a+r.left,h=l+r.top,i.css({left:"50%",top:-h,marginLeft:-(a/2)}).animate({top:"50%",marginTop:-(l/2),opacity:1},200),o.find(".btn-close").on("click",function(){o.trigger("click")}),t.on("click",function(){s.hide();var o=n.attr("action"),i=e.val(),t=c.val(),r=o+"?username="+i+"&password="+t;return $.ajax({url:r,type:"post",dataType:"text",success:function(o){console.log(o);var i=o.trim(),t=i.split(",");if("success"===t[0]){var n=window.location.protocol+"//"+window.location.host+"/ShowDoc/"+t[1];window.location.href=n}else if("fail"===t[0]||"illegal"===t[0])s.show();else{var e=o.replace(/\s/,""),c=e.indexOf('<h3 class="error-info">')+'<h3 class="error-info">'.length,r=e.lastIndexOf("</h3>"),a=e.substring(c,r),l=window.location.protocol+"//"+window.location.host+"/ShowDoc/",f=l+"exception/operateVoucherHandle.action?message="+a;window.location.href=f}},error:function(o){console.log(o),console.log("error")}}),!1})})});