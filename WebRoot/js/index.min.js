$(function(){zCarousel.init($("#container"));var o=$("#container"),t=o.find(".function-container").find(".list-item"),i=o.find(".tooltip"),n=i.find(".tooltip-content"),e=i.find(".icon"),c=o.find(".login-container").find(".login-operations").find(".btn-login"),r={API:"服务端提供API,APP端或者网页前端便可方便调用数据,用ShowDoc可以非常方便快速地编写出美观的API文档.",dictionary:"一份好的数据字典可以很方便地向别人说明你的数据库结构，如各个字段的释义等.",doc:"你完全可以使用showdoc来编写一些工具的说明书,也可以编写一些技术规范说明文档以供团队查阅.",sharing:"项目导出成word文件，以便离线浏览.",competence:"提供对自己项目的权限管理,有权限者才有权限修改.",project:"公开项目可供任何登录与非登录的用户访问,而私密项目则需要输入密码验证访问,密码由项目创建者设置.",member:"你可以很方便地为ShowDoc的项目添加、删除项目成员,项目成员可以对项目进行编辑,但不可转让或删除项目（只有项目创建者才有权限）.",edit:"ShowDoc采用markdown编辑器,无论是编辑还是阅读体验都极佳很棒.",template:"在ShowDoc的编辑页面,点击编辑器上方的按钮可方便地插入API接口模板和数据字典模板,插入模板后,剩下的就是改动数据了,省去了很多编辑的力气.",history:"ShowDoc为页面提供历史版本功能,你可以方便地把页面恢复到之前的版本."},s=!0;t.hover(function(){if(s){s=!1;var o=$(this).offset(),t=o.left,c=o.top,a=$(this).height(),l=$(this).outerWidth(),h=t+l,d=c+a/2,f=$(window).width()/2,w=$(this).find(".item-content").data("item");w&&""!==w&&n.text(r[w]),f>t?i.css({left:h,opacity:0}).show(200,function(){var o=$(this).height()/2;e.addClass("left-triangle").removeClass("right-triangle"),d-=o,$(this).css({top:d,opacity:1}),s=!0}):i.css({opacity:0}).show(200,function(){var o=$(this).height()/2,i=$(this).outerWidth();e.addClass("right-triangle").removeClass("left-triangle"),t-=i,d-=o,$(this).css({left:t,top:d,opacity:1}),s=!0})}},function(){n.text(""),i.hide()}),c.on("click",function(){var o=$(".login-form-container"),t=o.find(".login-form-pos"),i=t.find(".form-submit"),n=t.find(".login-form"),e=n.find("#login-username"),c=n.find("#login-password"),r=n.find("#login-checkImg"),s=n.find("#show-checkImg"),a=t.find(".login-error"),l=n.find(".checkImg-icon"),h=n.find(".checkImg-error-info"),d=0,f=0,w=0,g=0,p=0,u=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getCaptchar.action?temp="+(new Date).getTime().toString(36),m=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getVcode.action",v=$("<img />");i.css("cursor","not-allowed"),r.val(""),l.html(""),o.css("display","block").on("click",function(o){this===o.target&&$(this).hide()}),v.on("load",function(){s.attr("src",u)}),v.attr("src",u),s.on("click",function(){u=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getCaptchar.action?temp="+(new Date).getTime().toString(36),v.on("load",function(){s.attr("src",u),l.html(""),r.focus(),h.hide(),i.attr("disabled","disabled").css("cursor","not-allowed")}),v.attr("src",u)}),d=t.offset(),f=t.width(),w=t.height(),g=f+d.left,p=w+d.top,t.css({left:"50%",top:-p,marginLeft:-(f/2)}).animate({top:"50%",marginTop:-(w/2),opacity:1},200),o.find(".btn-close").on("click",function(){o.trigger("click")}),r.on("blur",function(){var o=r.val();$.ajax({url:m,type:"GET",dataType:"text",async:!1,success:function(t){var n=t.trim();o===n?(l.css("color","#87F880").html("&#xe900;").show(),h.hide(),i.removeAttr("disabled").css("cursor","pointer")):(l.css("color","#F9998E").html("&#xe901;").show(),h.show(),i.attr("disabled","disabled").css("cursor","not-allowed"))}})}),i.on("click",function(){a.hide();var o=n.attr("action"),t=e.val(),i=c.val(),s=r.val(),l=o+"?username="+t+"&password="+i+"&vcode="+s;return $.ajax({url:l,type:"post",dataType:"text",success:function(o){var t=o.trim(),i=t.split(",");if("success"===i[0]){var n=window.location.protocol+"//"+window.location.host+"/ShowDoc/"+i[1];window.location.href=n}else if("fail"===i[0]&&void 0===i[1]||"illegal"===i[0])a.html("账号或密码错误").show();else if("fail"===i[0]&&i[1].length>0)a.html("验证码出错").show();else{var e=o.replace(/\s/,""),c=e.indexOf('<h3 class="error-info">')+'<h3 class="error-info">'.length,r=e.lastIndexOf("</h3>"),s=e.substring(c,r),l=window.location.protocol+"//"+window.location.host+"/ShowDoc/",h=l+"exception/operateVoucherHandle.action?message="+s;window.location.href=h}},error:function(o){console.log(o),console.log("error")}}),!1})})});