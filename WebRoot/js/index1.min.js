function move(e){var t=[];t[1]=".top",t[2]=".introduction1",t[3]=".help",t[4]=".about";var i=$(t[e]).offset();$("body,html").animate({scrollTop:i.top},500)}function change_login_title(e){var t=document.getElementById("id_login_title"),i=document.getElementById("id_register_title");1==e?1==key_title?(t.className="login_title c_title",i.className="register_title"):(t.className="login_title c_title",i.className="register_title"):1==key_title?(t.className="login_title c_title",i.className="register_title"):(t.className="login_title",i.className="register_title c_title")}function change_register_title(e){var t=document.getElementById("id_login_title"),i=document.getElementById("id_register_title");1==e?1==key_title?(i.className="register_title c_title",t.className="login_title"):(i.className="register_title c_title",t.className="login_title"):1==key_title?(t.className="login_title c_title",i.className="register_title"):(i.className="register_title c_title",t.className="login_title")}function change_login_input(e){if(0==e){var t=document.getElementById("id_register_input");t.className="register_input";var i=document.getElementById("id_login_input");i.className="login_input c_input",key_title=0}else{var t=document.getElementById("id_register_input");t.className="register_input c_input";var i=document.getElementById("id_login_input");i.className="login_input",key_title=1}}var key_title=1;window.onscroll=function(){var e,t=document.getElementsByClassName("navigation_col"),i=document.getElementById("cover"),o=document.documentElement.scrollTop||document.body.scrollTop;e?clearTimeout(e):e=setTimeout(function(){t[0].style.bottom=-o+20+"px",i.style.top=o+"px"},350)},document.getElementById("forget_pw").onclick=function(){document.getElementById("cover").style.display="block"},document.getElementById("cover_close").onclick=function(){document.getElementById("cover").style.display="none"};var cover_close2=document.getElementById("cover");cover_close2.addEventListener("click",function(e){e.target==cover_close2&&(document.getElementById("cover").style.display="none")});for(var navigation_li=document.getElementsByClassName("navigation_li"),i=0,len=navigation_li.length;i<len;i++)!function(e){navigation_li[e].onclick=function(){move(4-e)}}(i);for(var navigation_col_li=document.getElementsByClassName("navigation_col_li"),i=0,len=navigation_col_li.length;i<len;i++)!function(e){navigation_col_li[e].onclick=function(){move(e+1)}}(i);var id_login_title=document.getElementById("id_login_title");id_login_title.onclick=function(){change_login_input(1)},id_login_title.onmouseover=function(){change_login_title(1)},id_login_title.onmouseout=function(){change_login_title(0)};var id_register_title=document.getElementById("id_register_title");id_register_title.onclick=function(){change_login_input(0)},id_register_title.onmouseover=function(){change_register_title(1)},id_register_title.onmouseout=function(){change_register_title(0)};var $doc=$(document),$body=$doc.find("body"),$login=$body.find("#id_login_input"),$form=$login.find(".form-signin"),$username=$form.find("#login-username"),$password=$form.find("#login-password"),$vCode=$form.find("#login-checkImg"),$checkImg=$form.find("#show-checkImg"),$loginSubmit=$form.find(".form-submit"),srcUrl=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getCaptchar.action?temp="+(new Date).getTime().toString(36),codeUrl=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getVcode.action",$tmpImg=$("<img />"),isdealinglogin=!1;$vCode.val(""),$tmpImg.on("load",function(){$checkImg.attr("src",srcUrl)}),$tmpImg.attr("src",srcUrl),$checkImg.on("click",function(){srcUrl=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/getCaptchar.action?temp="+(new Date).getTime().toString(36),$tmpImg.on("load",function(){$checkImg.attr("src",srcUrl)}),$tmpImg.attr("src",srcUrl)}),$loginSubmit.on("click",function(e){if(!isdealinglogin){isdealinglogin=!0;var t=window.location.protocol+"//"+window.location.host+"/ShowDoc/voucher/checkVoucher.action",i=$username.val()||"",o=$password.val()||"",n=$vCode.val()||"",l={username:i,password:o,vcode:n};if(void 0===i||""===i)return layer.msg("用户名不能为空",{time:1500}),isdealinglogin=!1,!1;if(void 0===o||""===o)return layer.msg("密码不能为空",{time:1500}),isdealinglogin=!1,!1;if(void 0===n||""===n)return layer.msg("请输入验证码",{time:1500}),isdealinglogin=!1,!1;$.ajax({url:codeUrl,type:"GET",dataType:"text"}).then(function(e){var t=e.trim();n===t?$.Deferred().resolve():(layer.msg("验证码错误",{time:1500}),$.Deferred().reject())}).then(function(){$.ajax({url:t,type:"post",dataType:"text",data:l,success:function(e){var t=e.trim(),i=t.split(",");if(isdealinglogin=!1,"success"===i[0]){var o=window.location.protocol+"//"+window.location.host+"/ShowDoc/"+i[1];window.location.href=o}else if("fail"===i[0]&&void 0===i[1]||"illegal"===i[0])layer.msg("账号或密码错误",{time:1500});else if("fail"===i[0]&&i[1].length>0)layer.msg("验证码错误",{time:1500});else{var n=e.replace(/\s/,""),l=n.indexOf('<h3 class="error-info">')+'<h3 class="error-info">'.length,c=n.lastIndexOf("</h3>"),a=n.substring(l,c),r=window.location.protocol+"//"+window.location.host+"/ShowDoc/",s=r+"exception/operateVoucherHandle.action?message="+a;window.location.href=s}},error:function(e){}})})}return e.preventDefault(),e.stopPropagation(),!1});